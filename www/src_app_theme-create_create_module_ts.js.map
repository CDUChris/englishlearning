{"version":3,"file":"src_app_theme-create_create_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAEP;AAEhD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,yDAAe;KAC3B;CACF,CAAC;IAMW,4BAA4B,SAA5B,4BAA4B;CAAG;AAA/B,4BAA4B;IAJxC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,4BAA4B,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;AChBA;AACM;AAGF;AAE0B;AACL;AAElB;IAYnC,qBAAqB,SAArB,qBAAqB;CAAG;AAAxB,qBAAqB;IAVjC,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,uDAAW;YACX,gFAA4B;YAC5B,+DAAmB;SACpB;QACD,YAAY,EAAE,CAAC,yDAAe,CAAC;KAChC,CAAC;GACW,qBAAqB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrBgB;AACkB;AAK5C;AACiC;AACP;AAUrB;AACU;AACC;AAGxC,mCAAmC;IAMtB,eAAe,SAAf,eAAgB,SAAQ,+CAAQ;IAK3C,YACS,WAA8B,EAC9B,SAA0B,EACjC,WAAwB,EACd,QAAkB,EAClB,OAAsB,EACzB,KAAqB;QAE5B,KAAK,CAAC,QAAQ,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;QAPzB,gBAAW,GAAX,WAAW,CAAmB;QAC9B,cAAS,GAAT,SAAS,CAAiB;QAEvB,aAAQ,GAAR,QAAQ,CAAU;QAClB,YAAO,GAAP,OAAO,CAAe;QACzB,UAAK,GAAL,KAAK,CAAgB;QAI5B,IAAI,CAAC,cAAc,GAAG,WAAW,CAAC,KAAK,CAAC;YACtC,KAAK,EAAE,CAAC,EAAE,EAAE,+DAAmB,CAAC;YAChC,SAAS,EAAE,CAAC,EAAE,EAAE,+DAAmB,CAAC;SACrC,CAAC,CAAC;IACL,CAAC;IAED,QAAQ;IACR,CAAC;IAEK,WAAW;;YACf,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;YAChD,oDAAoD;YAEpD,MAAM,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,KAAK,CAAC;YAC9C,MAAM,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,SAAS,CAAC;YAEtD,MAAM,EAAE,GAAG,iEAAY,CAAC,4DAAW,CAAC,CAAC;YACrC,MAAM,aAAa,GAAG,MAAM,4DAAO,CAAC,+DAAU,CAAC,EAAE,EAAE,cAAc,CAAC,CAAC,CAAC;YACpE,IAAI,EAAE,GAAG,CAAC,CAAC;YACX,aAAa,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;gBAC5B,IAAI,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;gBACzB,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAC1C,CAAC,CAAC,CAAC;YAEH,EAAE,EAAE,CAAC;YACL,OAAO,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;YACpB,2DAAM,CAAC,wDAAG,CAAC,EAAE,EAAE,cAAc,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE;gBACvC,EAAE,EAAE,EAAE,GAAG,EAAE;gBACX,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG;gBACnB,KAAK,EAAE,KAAK;gBACZ,SAAS,EAAE,SAAS;aACrB,CAAC,CAAC,IAAI,CACL,GAAG,EAAE;gBACH,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE;oBAC1B,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;gBACrB,CAAC,CAAC,CAAC;YACL,CAAC,EACD,CAAC,KAAK,EAAE,EAAE;gBACR,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE;oBAC1B,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;gBACvB,CAAC,CAAC,CAAC;YACL,CAAC,CACF,CAAC;YAEF,OAAO,MAAM,OAAO,CAAC,OAAO,EAAE,CAAC;QACjC,CAAC;KAAA;CACF;;YAtFC,6DAAiB;YADjB,2DAAe;YAFG,uDAAW;YAmBtB,gDAAQ;YAff,yDAAa;YAEN,2DAAc;;AAsBV,eAAe;IAL3B,yDAAS,CAAC;QACT,QAAQ,EAAE,YAAY;QACtB,mEAAiC;;KAElC,CAAC;GACW,eAAe,CA6D3B;AA7D2B","sources":["./src/app/theme-create/create-routing.module.ts","./src/app/theme-create/create.module.ts","./src/app/theme-create/create.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ThemeCreatePage } from './create.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ThemeCreatePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ThemeCreatePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ThemeCreatePageRoutingModule } from './create-routing.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { ThemeCreatePage } from './create.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ThemeCreatePageRoutingModule,\r\n    ReactiveFormsModule,\r\n  ],\r\n  declarations: [ThemeCreatePage]\r\n})\r\nexport class ThemeCreatePageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport {\r\n  AlertController,\r\n  LoadingController,\r\n  NavController,\r\n} from '@ionic/angular';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { firebaseApp } from 'src/config/firebase';\r\nimport {\r\n  getFirestore,\r\n  getDocs,\r\n  collection,\r\n  setDoc,\r\n  doc,\r\n  getDoc,\r\n  query,\r\n  where,\r\n} from '@firebase/firestore';\r\nimport { PageBase } from '../app.page';\r\nimport { AppStore } from '../app.store';\r\nimport { AppConfig } from '../app.config';\r\n\r\n//Tab 2 to add new word to database\r\n@Component({\r\n  selector: 'app-create',\r\n  templateUrl: './create.page.html',\r\n  styleUrls: ['./create.page.scss'],\r\n})\r\nexport class ThemeCreatePage extends PageBase implements OnInit {\r\n  audio: any;\r\n\r\n  audioFile: File;\r\n  public createWordForm: FormGroup;\r\n  constructor(\r\n    public loadingCtrl: LoadingController,\r\n    public alertCtrl: AlertController,\r\n    formBuilder: FormBuilder,\r\n    protected appStore: AppStore,\r\n    protected navCtrl: NavController,\r\n    public route: ActivatedRoute\r\n  ) {\r\n    super(appStore, navCtrl, route);\r\n\r\n    this.createWordForm = formBuilder.group({\r\n      topic: ['', Validators.required],\r\n      translate: ['', Validators.required],\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  async createTheme() {\r\n    const loading = await this.loadingCtrl.create();\r\n    /// {\"Topic\":\"运动会\",\"Translate\":\"sports competition\"}\r\n\r\n    const topic = this.createWordForm.value.topic;\r\n    const translate = this.createWordForm.value.translate;\r\n\r\n    const db = getFirestore(firebaseApp);\r\n    const querySnapshot = await getDocs(collection(db, 'DropDownList'));\r\n    let id = 0;\r\n    querySnapshot.forEach((doc) => {\r\n      let did = Number(doc.id);\r\n      id = Math.max(id, isNaN(did) ? 0 : did);\r\n    });\r\n\r\n    id++;\r\n    console.log(id, id);\r\n    setDoc(doc(db, 'DropDownList', '' + id), {\r\n      id: '' + id,\r\n      uid: this.$sess.uid,\r\n      Topic: topic,\r\n      Translate: translate,\r\n    }).then(\r\n      () => {\r\n        loading.dismiss().then(() => {\r\n          this.navCtrl.pop();\r\n        });\r\n      },\r\n      (error) => {\r\n        loading.dismiss().then(() => {\r\n          console.error(error);\r\n        });\r\n      }\r\n    );\r\n\r\n    return await loading.present();\r\n  }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}