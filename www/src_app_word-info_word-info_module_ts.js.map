{"version":3,"file":"src_app_word-info_word-info_module_ts.js","mappings":"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","sources":["./src/app/utils/file.ts","./src/app/word-info/word-info-routing.module.ts","./src/app/word-info/word-info.module.ts","./src/app/word-info/word-info.page.ts"],"sourcesContent":["export const baseName = (f: string): string => {\r\n  if (!f) {\r\n    return '';\r\n  }\r\n\r\n  const l1 = f.lastIndexOf('/');\r\n  const l2 = f.lastIndexOf('\\\\');\r\n  if (l1 >= 0) {\r\n    f = f.substring(l1 + 1);\r\n  }\r\n  if (l2 >= 0) {\r\n    f = f.substring(l2 + 1);\r\n  }\r\n\r\n  const e = f.lastIndexOf('.');\r\n  if (e >= 0) {\r\n    f = f.substring(0, e);\r\n  }\r\n  return f;\r\n};\r\n\r\nexport const toStdNameTag = (f: string): string => {\r\n  f = (f ?? '').replace(/[`’]+/gi, '');\r\n  const fname = f.replace(/[^a-zA-Z0-9]+/gi, ' ').trim();\r\n  return fname.replace(/\\s+/gi, '_').toLowerCase();\r\n};\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { WordInfoPage } from './word-info.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: WordInfoPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class WordInfoPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { WordInfoPageRoutingModule } from './word-info-routing.module';\r\n\r\nimport { WordInfoPage } from './word-info.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    WordInfoPageRoutingModule\r\n  ],\r\n  declarations: [WordInfoPage]\r\n})\r\nexport class WordInfoPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport Player from '../utils/player/player';\r\nimport {\r\n  getStorage,\r\n  ref,\r\n  listAll,\r\n  list,\r\n  getDownloadURL,\r\n} from '@firebase/storage';\r\nimport { firebaseApp } from 'src/config/firebase';\r\nimport { baseName, toStdNameTag } from '../utils/file';\r\nimport Recorder from 'js-audio-recorder';\r\nimport { sleep } from '../utils/utils';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { encodeWAV } from '../utils/transform/transform';\r\nimport { AppNet } from '../app.net';\r\nimport { PageBase } from '../app.page';\r\nimport { LoadingController, NavController } from '@ionic/angular';\r\nimport { AppStore } from '../app.store';\r\nimport {\r\n  getFirestore,\r\n  getDocs,\r\n  collection,\r\n  doc,\r\n  getDoc,\r\n  setDoc,\r\n  query,\r\n  where,\r\n  deleteDoc,\r\n} from '@firebase/firestore';\r\nimport { AppUtil } from '../app.util';\r\nimport { AppConfig } from '../app.config';\r\n\r\nlet recorder = null;\r\nlet playTimer = null;\r\nlet oCanvas = null;\r\nlet ctx = null;\r\nlet drawRecordId = null;\r\nlet pCanvas = null;\r\nlet pCtx = null;\r\nlet drawPlayId = null;\r\n\r\n@Component({\r\n  selector: 'app-word-info',\r\n  templateUrl: './word-info.page.html',\r\n  styleUrls: ['./word-info.page.scss'],\r\n})\r\nexport class WordInfoPage extends PageBase implements OnInit {\r\n  item: any;\r\n  itemFileName = '';\r\n  itemUrl: any;\r\n  player: HTMLAudioElement;\r\n  isManfang = false;\r\n  isPlay = true;\r\n  state = {\r\n    sampleBit: 16,\r\n    sampleRate: 16000,\r\n    numChannel: 1,\r\n    compiling: false,\r\n    isRecording: false, // 是否正在录音\r\n    duration: 0,\r\n    fileSize: 0,\r\n    vol: 0,\r\n  };\r\n\r\n  loadingWin;\r\n  audioList = [];\r\n\r\n  inFavoriteStatus = false;\r\n\r\n  constructor(\r\n    private activeRoute: ActivatedRoute,\r\n    protected appStore: AppStore,\r\n    protected navCtrl: NavController,\r\n    public route: ActivatedRoute,\r\n    protected loadingCtrl: LoadingController,\r\n    private sanitizer: DomSanitizer\r\n  ) {\r\n    super(appStore, navCtrl, route);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.item = this.activeRoute.snapshot.params;\r\n    if (!this.item) {\r\n      return;\r\n    }\r\n\r\n    const content = this.item.Literal\r\n      ? this.item.Literal\r\n      : this.item.Translation;\r\n    this.itemFileName = toStdNameTag(content);\r\n    console.log(this.item);\r\n    console.log(this.itemFileName);\r\n\r\n    this.loadData();\r\n    // this.componentDidMount();\r\n    this.getList();\r\n  }\r\n\r\n  json(v) {\r\n    return JSON.stringify(v, null, ' ');\r\n  }\r\n  setState(v: any) {}\r\n\r\n  changeSampleRate(e, params) {\r\n    this.setState({\r\n      sampleRate: params.value,\r\n    });\r\n  }\r\n  changeSampleBit(e, params) {\r\n    this.setState({\r\n      sampleBit: params.value,\r\n    });\r\n  }\r\n  changeNumChannel(e, params) {\r\n    this.setState({\r\n      numChannel: params.value,\r\n    });\r\n  }\r\n  changeCompile(e, { checked }) {\r\n    this.setState({\r\n      compiling: checked,\r\n    });\r\n  }\r\n\r\n  modifyOption() {\r\n    if (recorder) {\r\n      const config = this.collectData();\r\n\r\n      recorder.setOption(config);\r\n\r\n      recorder = null;\r\n    }\r\n  }\r\n  collectData() {\r\n    return {\r\n      sampleBits: this.state.sampleBit,\r\n      sampleRate: this.state.sampleRate,\r\n      numChannels: this.state.numChannel,\r\n      compiling: this.state.compiling, // 是否开启边录音边转化（后期改用web worker）\r\n    };\r\n  }\r\n\r\n  async loadData() {\r\n    if (!this.item) {\r\n      return;\r\n    }\r\n\r\n    this.inFavoriteStatus = await this.inFavorite();\r\n\r\n    if (this.item.FileUrl) {\r\n      this.itemUrl = this.sanitize(this.item.FileUrl);\r\n      return;\r\n    }\r\n\r\n    const storage = getStorage(\r\n      firebaseApp,\r\n      'gs://mandaringathering-d91d4.appspot.com/'\r\n    );\r\n\r\n    const listRef = ref(storage, 'audio_data');\r\n    const res = await listAll(listRef);\r\n    res.prefixes.forEach((folderRef) => {\r\n      console.log('dir: ', folderRef);\r\n    });\r\n\r\n    let item: any = null;\r\n    res.items.forEach((itemRef) => {\r\n      // console.log('file: ', itemRef);\r\n      let name = baseName(itemRef.name);\r\n      name = toStdNameTag(name);\r\n\r\n      if (name == this.itemFileName) {\r\n        item = itemRef;\r\n      }\r\n    });\r\n\r\n    if (!item) {\r\n      return;\r\n    }\r\n\r\n    const url = await getDownloadURL(item);\r\n    this.itemUrl = url;\r\n    console.log('url', this.itemUrl);\r\n  }\r\n\r\n  sanitize(url: string) {\r\n    return this.sanitizer.bypassSecurityTrustUrl(url);\r\n  }\r\n\r\n  manfang() {\r\n    this.isManfang = !this.isManfang;\r\n    if (this.isManfang) {\r\n      this.player.playbackRate = 0.5;\r\n    } else {\r\n      this.player.playbackRate = 1;\r\n    }\r\n    console.log(111);\r\n    console.log(this.player.playbackRate);\r\n  }\r\n\r\n  // 录音开启\r\n  startRecord() {\r\n    this.clearPlay();\r\n\r\n    const config = this.collectData();\r\n\r\n    if (!recorder) {\r\n      recorder = new Recorder(config);\r\n\r\n      recorder.onprocess = function (duration) {\r\n        // this.setState({\r\n        //     duration: duration.toFixed(5),\r\n        // });\r\n        // 推荐使用 onprogress\r\n      };\r\n\r\n      recorder.onprogress = (params: any) => {\r\n        // console.log(recorder.duration);\r\n        // console.log(recorder.fileSize);\r\n\r\n        this.setState({\r\n          duration: params.duration.toFixed(5),\r\n          fileSize: params.fileSize,\r\n          vol: params.vol.toFixed(2),\r\n        });\r\n        // 此处控制数据的收集频率\r\n        if (config.compiling) {\r\n          console.log('音频总数据：', params.data);\r\n        }\r\n      };\r\n\r\n      recorder.onplay = () => {};\r\n      recorder.onpauseplay = () => {};\r\n      recorder.onresumeplay = () => {};\r\n      recorder.onstopplay = () => {};\r\n      recorder.onplayend = () => {\r\n        this.stopDrawPlay();\r\n      };\r\n\r\n      config.compiling &&\r\n        (playTimer = setInterval(() => {\r\n          if (!recorder) {\r\n            return;\r\n          }\r\n\r\n          let newData = recorder.getNextData();\r\n          if (!newData.length) {\r\n            return;\r\n          }\r\n          let byteLength = newData[0].byteLength;\r\n          let buffer = new ArrayBuffer(newData.length * byteLength);\r\n          let dataView = new DataView(buffer);\r\n\r\n          // 数据合并\r\n          for (let i = 0, iLen = newData.length; i < iLen; ++i) {\r\n            for (let j = 0, jLen = newData[i].byteLength; j < jLen; ++j) {\r\n              dataView.setInt8(i * byteLength + j, newData[i].getInt8(j));\r\n            }\r\n          }\r\n\r\n          let a = encodeWAV(\r\n            dataView,\r\n            config.sampleRate,\r\n            config.sampleRate,\r\n            config.numChannels,\r\n            config.sampleBits\r\n          );\r\n          let blob: any = new Blob([a], { type: 'audio/wav' });\r\n\r\n          blob.arrayBuffer().then((arraybuffer) => {\r\n            Player.play(arraybuffer);\r\n          });\r\n        }, 3000));\r\n    } else {\r\n      recorder.stop();\r\n    }\r\n    this.state.isRecording = true;\r\n    recorder.start().then(\r\n      () => {\r\n        console.log('开始录音');\r\n      },\r\n      (error) => {\r\n        console.log(`异常了,${error.name}:${error.message}`);\r\n      }\r\n    );\r\n  }\r\n\r\n  // stop\r\n  pauseRecord() {\r\n    if (recorder) {\r\n      recorder.pause();\r\n      console.log('暂停录音');\r\n      drawRecordId && cancelAnimationFrame(drawRecordId);\r\n      drawRecordId = null;\r\n    }\r\n  }\r\n  //stop recording\r\n  async endRecord() {\r\n    recorder && recorder.stop();\r\n    \r\n    drawRecordId && cancelAnimationFrame(drawRecordId);\r\n    drawRecordId = null;\r\n    this.state.isRecording = false;\r\n    console.log('end recording');\r\n\r\n    await this.saveRecord();\r\n    console.log('保存完成');\r\n\r\n    this.clearPlay();\r\n   \r\n  }\r\n\r\n  playRecord() {\r\n    recorder && recorder.play();\r\n    drawRecordId && cancelAnimationFrame(drawRecordId);\r\n    drawRecordId = null;\r\n    // recorder && this.drawPlay();\r\n    // setInterval(() => {\r\n    //     recorder.getPlayTime()\r\n    // }, 500)\r\n  }\r\n  clearPlay() {\r\n    if (playTimer) {\r\n      clearInterval(playTimer);\r\n      playTimer = null;\r\n    }\r\n    if (drawRecordId) {\r\n      cancelAnimationFrame(drawRecordId);\r\n      drawRecordId = null;\r\n    }\r\n    this.stopDrawPlay();\r\n  }\r\n  stopDrawPlay = () => {\r\n    drawPlayId && cancelAnimationFrame(drawPlayId);\r\n    drawPlayId = null;\r\n  };\r\n  componentDidMount() {\r\n    oCanvas = document.getElementById('canvas');\r\n    ctx = oCanvas.getContext('2d');\r\n    pCanvas = document.getElementById('playChart');\r\n    pCtx = pCanvas.getContext('2d');\r\n  }\r\n\r\n  async getList() {\r\n    if (!this.item) {\r\n      return;\r\n    }\r\n\r\n    this.loadingWin = await this.loadingCtrl.create({\r\n      message: 'data loading ...',\r\n      showBackdrop: true,\r\n      duration: 120000,\r\n    });\r\n    this.loadingWin.present();\r\n\r\n    const db = getFirestore(firebaseApp);\r\n    const colRef = collection(db, 'audioList');\r\n\r\n    // Create a query against the collection.\r\n    const wordId = '' + AppConfig.getUid() + '@@' + (this.item.id ?? '-1');\r\n    console.log('WordId == ', wordId);\r\n    const q = query(colRef, where('WordId', '==', wordId));\r\n\r\n    const querySnapshot = await getDocs(q);\r\n    const arr = [];\r\n\r\n    querySnapshot.forEach((doc) => {\r\n      console.log(\r\n        `${doc.id} => `,\r\n        AppUtil.xstrMid(JSON.stringify(doc.data()), 80, 40)\r\n      );\r\n      const ditem = doc.data();\r\n      if (!ditem.id) {\r\n        ditem.id = doc.id + 1;\r\n      }\r\n      if (ditem.FileUrl) {\r\n        ditem.FileUrl = this.sanitize(ditem.FileUrl);\r\n      }\r\n      arr.unshift(ditem);\r\n    });\r\n    this.audioList = arr;\r\n\r\n    this.loadingWin.dismiss();\r\n  }\r\n\r\n  saveRecord(): Promise<any> {\r\n    return new Promise<any>((rel, rej) => {\r\n      const wavBlob = recorder.getWAVBlob();\r\n      const a = new FileReader();\r\n      a.onload = async (e) => {\r\n        if (e.target.result) {\r\n          const str = e.target.result.toString();\r\n          await this.doSaveRecord(str);\r\n          console.log(str.length, AppUtil.xstrMid(str, 15, 10));\r\n        }\r\n        rel(true);\r\n      };\r\n      a.readAsDataURL(wavBlob);\r\n    });\r\n\r\n  }\r\n\r\n  async doSaveRecord(fileUrl: string) {\r\n    const loading = await this.loadingCtrl.create();\r\n\r\n    const db = getFirestore(firebaseApp);\r\n    const querySnapshot = await getDocs(collection(db, 'audioList'));\r\n    let id = 0;\r\n    let ids = [];\r\n    let wordIdPrex = AppConfig.getUid() + '@@';\r\n    querySnapshot.forEach((doc) => {\r\n      let did = Number(doc.id);\r\n      let wordId = doc.data()?.WordId ?? '';\r\n      if (wordId.indexOf(wordIdPrex) === 0) {\r\n        ids.push(did);\r\n      }\r\n      id = Math.max(id, isNaN(did) ? 0 : did);\r\n    });\r\n\r\n    // remove items\r\n    ids.sort((a, b) => a - b);\r\n    const remainAmount = 2; // only keep item amount // ids.length - 1;\r\n    while (ids.length > remainAmount) {\r\n      const eid = ids.shift();\r\n      console.log('eid', eid);\r\n      await deleteDoc(doc(db, 'audioList', '' + eid));\r\n    }\r\n\r\n    id++;\r\n    console.log(id, id);\r\n    setDoc(doc(db, 'audioList', '' + id), {\r\n      id: '' + id,\r\n      WordId: wordIdPrex + this.item.id,\r\n      FileUrl: fileUrl,\r\n    }).then(\r\n      () => {\r\n        loading.dismiss();\r\n        this.getList();\r\n      },\r\n      (error) => {\r\n        loading.dismiss().then(() => {\r\n          console.error(error);\r\n        });\r\n      }\r\n    );\r\n\r\n    await loading.present();\r\n  }\r\n\r\n  ccc() {\r\n    let a = 0;\r\n    this.player = document.getElementById('audio_player') as HTMLAudioElement;\r\n    let b = document.getElementById('bgc');\r\n    this.isPlay = !this.player.paused;\r\n    function ab(ev) {\r\n      this.isPlay = this.player.paused;\r\n      b.style.width = 0 + 'px';\r\n      ev.stopPropagation();\r\n    }\r\n    function aa(e) {\r\n      a = (this.player.currentTime / this.player.duration) * 100;\r\n      b.style.width = a + '%';\r\n      e.stopPropagation();\r\n    }\r\n    this.player.addEventListener('ended', ab.bind(this), false);\r\n    this.player.addEventListener('timeupdate', aa.bind(this), false);\r\n\r\n    if (this.player.paused) {\r\n      this.player.play();\r\n    } else {\r\n      this.player.pause();\r\n    }\r\n  }\r\n  listPlay(id) {\r\n    let a = 0;\r\n    let player = document.getElementById(id) as HTMLAudioElement;\r\n    let prograss = document.getElementById(id + 'pro') as HTMLAudioElement;\r\n    function ab(ev) {\r\n      prograss.style.width = 0 + 'px';\r\n      ev.stopPropagation();\r\n    }\r\n    function aa(e) {\r\n      a = (player.currentTime / player.duration) * 100;\r\n      prograss.style.width = a + '%';\r\n      e.stopPropagation();\r\n    }\r\n    player.addEventListener('ended', ab.bind(this), false);\r\n    player.addEventListener('timeupdate', aa.bind(this), false);\r\n\r\n    if (player.paused) {\r\n      player.play();\r\n    } else {\r\n      player.pause();\r\n    }\r\n  }\r\n\r\n  async inFavorite() {\r\n    if (!this.item) {\r\n      return false;\r\n    }\r\n\r\n    const uid = '' + AppConfig.getUid();\r\n    const db = getFirestore(firebaseApp);\r\n    const dataDoc = await getDoc(doc(db, 'myFavorites', uid));\r\n\r\n    let ditem = dataDoc.data();\r\n    if (!ditem) {\r\n      ditem = {};\r\n    }\r\n    const dataItems = ditem['items'] ? ditem['items'] : {};\r\n    let arr: any[] = dataItems[this.item.Topic]\r\n      ? dataItems[this.item.Topic]\r\n      : [];\r\n\r\n    return arr.includes(this.item.id);\r\n  }\r\n\r\n  async onFavoriteAdd(del = false) {\r\n    if (!this.item) {\r\n      return;\r\n    }\r\n\r\n    this.loadingWin = await this.loadingCtrl.create({\r\n      message: 'save data ...',\r\n      showBackdrop: true,\r\n      duration: 120000,\r\n    });\r\n    this.loadingWin.present();\r\n\r\n    const uid = '' + AppConfig.getUid();\r\n    const db = getFirestore(firebaseApp);\r\n    const dataDoc = await getDoc(doc(db, 'myFavorites', uid));\r\n\r\n    let ditem = dataDoc.data();\r\n    if (!ditem) {\r\n      ditem = {};\r\n    }\r\n    const dataItems = ditem['items'] ? ditem['items'] : {};\r\n    let arr: any[] = dataItems[this.item.Topic]\r\n      ? dataItems[this.item.Topic]\r\n      : [];\r\n\r\n    if (del) {\r\n      arr = arr.filter((v) => v != this.item.id);\r\n    } else {\r\n      if (!arr.includes(this.item.id)) {\r\n        arr.push(this.item.id);\r\n      }\r\n    }\r\n\r\n    dataItems[this.item.Topic] = arr;\r\n    setDoc(doc(db, 'myFavorites', uid), {\r\n      uid: uid,\r\n      items: dataItems,\r\n    });\r\n\r\n    this.inFavoriteStatus = !del;\r\n    this.loadingWin.dismiss();\r\n  }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}