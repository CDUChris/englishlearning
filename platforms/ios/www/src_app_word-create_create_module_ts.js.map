{"version":3,"file":"src_app_word-create_create_module_ts.js","mappings":"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","sources":["./src/app/word-create/create-routing.module.ts","./src/app/word-create/create.module.ts","./src/app/word-create/create.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { WordCreatePage } from './create.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: WordCreatePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class WordCreatePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { WordCreatePageRoutingModule } from './create-routing.module';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { WordCreatePage } from './create.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    WordCreatePageRoutingModule,\n    ReactiveFormsModule,\n  ],\n  declarations: [WordCreatePage]\n})\nexport class WordCreatePageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport {\n  AlertController,\n  LoadingController,\n  NavController,\n} from '@ionic/angular';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { firebaseApp } from 'src/config/firebase';\nimport {\n  getFirestore,\n  getDocs,\n  collection,\n  setDoc,\n  doc,\n  getDoc,\n  query,\n  where,\n} from '@firebase/firestore';\nimport { PageBase } from '../app.page';\nimport { AppStore } from '../app.store';\nimport Recorder from 'js-audio-recorder';\nimport Player from '../utils/player/player';\nimport { encodeWAV } from '../utils/transform/transform';\nimport { AppConfig } from '../app.config';\n\nlet recorder = null;\nlet playTimer = null;\nlet drawPlayId = null;\nlet drawRecordId = null;\n\n//Tab 2 to add new word to database\n@Component({\n  selector: 'app-create',\n  templateUrl: './create.page.html',\n  styleUrls: ['./create.page.scss'],\n})\nexport class WordCreatePage extends PageBase implements OnInit {\n  item: any;\n  rec: Recorder;\n\n  audio: any;\n  topic = '';\n\n  audioFile: File;\n  public createWordForm: FormGroup;\n\n  state = {\n    sampleBit: 16,\n    sampleRate: 16000,\n    numChannel: 1,\n    compiling: false,\n    isRecording: false, // 是否正在录音\n    duration: 0,\n    fileSize: 0,\n    vol: 0,\n  };\n\n  recordStatusStr = 'none';\n  fileUrlData = '';\n\n  constructor(\n  private activeRoute: ActivatedRoute,\n    public loadingCtrl: LoadingController,\n    public alertCtrl: AlertController,\n    formBuilder: FormBuilder,\n    public navCtrl: NavController,\n    protected appStore: AppStore,\n    public route: ActivatedRoute\n  ) {\n    super(appStore, navCtrl, route);\n\n    this.createWordForm = formBuilder.group({\n      translation: ['', Validators.required],\n      mandarin: ['', Validators.required],\n      literal: ['', Validators.required],\n    });\n  }\n\n  ngOnInit() {\n    this.item = this.activeRoute.snapshot.params;\n    this.topic = this.item ? this.item.Topic : '';\n  }\n\n  async createWord() {\n    const loading = await this.loadingCtrl.create();\n\n    const translation = this.createWordForm.value.translation;\n    const mandarin = this.createWordForm.value.mandarin;\n    const literal = this.createWordForm.value.literal;\n\n    const db = getFirestore(firebaseApp);\n    const querySnapshot = await getDocs(collection(db, 'wordList'));\n    let id = 0;\n    querySnapshot.forEach((doc) => {\n      let did = Number(doc.id);\n      id = Math.max(id, isNaN(did) ? 0 : did);\n    });\n\n    id++;\n    console.log(id, id);\n    setDoc(doc(db, 'wordList', '' + id), {\n      id: '' + id,\n      uid: this.$sess.uid,\n      Topic: this.topic,\n      Translation: translation,\n      Mandarin: mandarin,\n      Literal: literal,\n      FileUrl: this.fileUrlData,\n    }).then(\n      () => {\n        loading.dismiss().then(() => {\n          this.navCtrl.pop();\n        });\n      },\n      (error) => {\n        loading.dismiss().then(() => {\n          console.error(error);\n        });\n      }\n    );\n\n    return await loading.present();\n  }\n\n  // 录音开启\n  startRecord() {\n    this.clearPlay();\n\n    const config = this.collectData();\n\n    if (!recorder) {\n      recorder = new Recorder(config);\n\n      recorder.onprocess = function (duration) {\n        // this.setState({\n        //     duration: duration.toFixed(5),\n        // });\n        // 推荐使用 onprogress\n      };\n\n      recorder.onprogress = (params: any) => {\n        // console.log(recorder.duration);\n        // console.log(recorder.fileSize);\n\n        this.setState({\n          duration: params.duration.toFixed(5),\n          fileSize: params.fileSize,\n          vol: params.vol.toFixed(2),\n        });\n        // 此处控制数据的收集频率\n        if (config.compiling) {\n          console.log('音频总数据：', params.data);\n        }\n      };\n\n      recorder.onplay = () => {};\n      recorder.onpauseplay = () => {};\n      recorder.onresumeplay = () => {};\n      recorder.onstopplay = () => {};\n      recorder.onplayend = () => {\n        this.stopDrawPlay();\n      };\n\n      config.compiling &&\n        (playTimer = setInterval(() => {\n          if (!recorder) {\n            return;\n          }\n\n          let newData = recorder.getNextData();\n          if (!newData.length) {\n            return;\n          }\n          let byteLength = newData[0].byteLength;\n          let buffer = new ArrayBuffer(newData.length * byteLength);\n          let dataView = new DataView(buffer);\n\n          // 数据合并\n          for (let i = 0, iLen = newData.length; i < iLen; ++i) {\n            for (let j = 0, jLen = newData[i].byteLength; j < jLen; ++j) {\n              dataView.setInt8(i * byteLength + j, newData[i].getInt8(j));\n            }\n          }\n\n          let a = encodeWAV(\n            dataView,\n            config.sampleRate,\n            config.sampleRate,\n            config.numChannels,\n            config.sampleBits\n          );\n          let blob: any = new Blob([a], { type: 'audio/wav' });\n\n          blob.arrayBuffer().then((arraybuffer) => {\n            Player.play(arraybuffer);\n          });\n        }, 3000));\n    } else {\n      recorder.stop();\n    }\n    this.state.isRecording = true;\n    recorder.start().then(\n      () => {\n        console.log('开始录音');\n      },\n      (error) => {\n        console.log(`异常了,${error.name}:${error.message}`);\n      }\n    );\n  }\n\n  clearPlay() {\n    if (playTimer) {\n      clearInterval(playTimer);\n      playTimer = null;\n    }\n    if (drawRecordId) {\n      cancelAnimationFrame(drawRecordId);\n      drawRecordId = null;\n    }\n    this.stopDrawPlay();\n  }\n\n  setState(v: any) {}\n\n  stopDrawPlay = () => {\n    drawPlayId && cancelAnimationFrame(drawPlayId);\n    drawPlayId = null;\n  };\n\n  collectData() {\n    return {\n      sampleBits: this.state.sampleBit,\n      sampleRate: this.state.sampleRate,\n      numChannels: this.state.numChannel,\n      compiling: this.state.compiling, // 是否开启边录音边转化（后期改用web worker）\n    };\n  }\n\n  //录音停止\n  endRecord() {\n    recorder && recorder.stop();\n    console.log('结束录音');\n    drawRecordId && cancelAnimationFrame(drawRecordId);\n    drawRecordId = null;\n    this.clearPlay();\n    this.state.isRecording = false;\n    this.saveRecord();\n  }\n\n  recordStartOrStop() {\n    if (this.state.isRecording) {\n      this.endRecord();\n    } else {\n      this.startRecord();\n    }\n  }\n\n  saveRecord() {\n    const wavBlob = recorder.getWAVBlob();\n    const a = new FileReader();\n    a.onload = (e) => {\n      if (e.target.result) {\n        this.recordStatusStr = 'Completed';\n        this.fileUrlData = e.target.result.toString();\n      }\n    };\n    a.readAsDataURL(wavBlob);\n  }\n}\n"],"names":[],"sourceRoot":"webpack:///"}