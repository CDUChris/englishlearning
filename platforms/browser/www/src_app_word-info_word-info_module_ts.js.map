{"version":3,"file":"src_app_word-info_word-info_module_ts.js","mappings":"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","sources":["./src/app/utils/file.ts","./src/app/word-info/word-info-routing.module.ts","./src/app/word-info/word-info.module.ts","./src/app/word-info/word-info.page.ts"],"sourcesContent":["export const baseName = (f: string): string => {\n  if (!f) {\n    return '';\n  }\n\n  const l1 = f.lastIndexOf('/');\n  const l2 = f.lastIndexOf('\\\\');\n  if (l1 >= 0) {\n    f = f.substring(l1 + 1);\n  }\n  if (l2 >= 0) {\n    f = f.substring(l2 + 1);\n  }\n\n  const e = f.lastIndexOf('.');\n  if (e >= 0) {\n    f = f.substring(0, e);\n  }\n  return f;\n};\n\nexport const toStdNameTag = (f: string): string => {\n  f = (f ?? '').replace(/[`’]+/gi, '');\n  const fname = f.replace(/[^a-zA-Z0-9]+/gi, ' ').trim();\n  return fname.replace(/\\s+/gi, '_').toLowerCase();\n};\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { WordInfoPage } from './word-info.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: WordInfoPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class WordInfoPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { WordInfoPageRoutingModule } from './word-info-routing.module';\n\nimport { WordInfoPage } from './word-info.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    WordInfoPageRoutingModule\n  ],\n  declarations: [WordInfoPage]\n})\nexport class WordInfoPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport Player from '../utils/player/player';\nimport {\n  getStorage,\n  ref,\n  listAll,\n  list,\n  getDownloadURL,\n} from '@firebase/storage';\nimport { firebaseApp } from 'src/config/firebase';\nimport { baseName, toStdNameTag } from '../utils/file';\nimport Recorder from 'js-audio-recorder';\nimport { sleep } from '../utils/utils';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { encodeWAV } from '../utils/transform/transform';\nimport { AppNet } from '../app.net';\nimport { PageBase } from '../app.page';\nimport { LoadingController, NavController } from '@ionic/angular';\nimport { AppStore } from '../app.store';\nimport {\n  getFirestore,\n  getDocs,\n  collection,\n  doc,\n  getDoc,\n  setDoc,\n  query,\n  where,\n  deleteDoc,\n} from '@firebase/firestore';\nimport { AppUtil } from '../app.util';\nimport { AppConfig } from '../app.config';\n\nlet recorder = null;\nlet playTimer = null;\nlet oCanvas = null;\nlet ctx = null;\nlet drawRecordId = null;\nlet pCanvas = null;\nlet pCtx = null;\nlet drawPlayId = null;\n\n@Component({\n  selector: 'app-word-info',\n  templateUrl: './word-info.page.html',\n  styleUrls: ['./word-info.page.scss'],\n})\nexport class WordInfoPage extends PageBase implements OnInit {\n  item: any;\n  itemFileName = '';\n  itemUrl: any;\n  player: HTMLAudioElement;\n  isManfang = false;\n  isPlay = true;\n  state = {\n    sampleBit: 16,\n    sampleRate: 16000,\n    numChannel: 1,\n    compiling: false,\n    isRecording: false, // 是否正在录音\n    duration: 0,\n    fileSize: 0,\n    vol: 0,\n  };\n\n  loadingWin;\n  audioList = [];\n\n  inFavoriteStatus = false;\n\n  constructor(\n    private activeRoute: ActivatedRoute,\n    protected appStore: AppStore,\n    protected navCtrl: NavController,\n    public route: ActivatedRoute,\n    protected loadingCtrl: LoadingController,\n    private sanitizer: DomSanitizer\n  ) {\n    super(appStore, navCtrl, route);\n  }\n\n  ngOnInit() {\n    this.item = this.activeRoute.snapshot.params;\n    if (!this.item) {\n      return;\n    }\n\n    const content = this.item.Literal\n      ? this.item.Literal\n      : this.item.Translation;\n    this.itemFileName = toStdNameTag(content);\n    console.log(this.item);\n    console.log(this.itemFileName);\n\n    this.loadData();\n    // this.componentDidMount();\n    this.getList();\n  }\n\n  json(v) {\n    return JSON.stringify(v, null, ' ');\n  }\n  setState(v: any) {}\n\n  changeSampleRate(e, params) {\n    this.setState({\n      sampleRate: params.value,\n    });\n  }\n  changeSampleBit(e, params) {\n    this.setState({\n      sampleBit: params.value,\n    });\n  }\n  changeNumChannel(e, params) {\n    this.setState({\n      numChannel: params.value,\n    });\n  }\n  changeCompile(e, { checked }) {\n    this.setState({\n      compiling: checked,\n    });\n  }\n\n  modifyOption() {\n    if (recorder) {\n      const config = this.collectData();\n\n      recorder.setOption(config);\n\n      recorder = null;\n    }\n  }\n  collectData() {\n    return {\n      sampleBits: this.state.sampleBit,\n      sampleRate: this.state.sampleRate,\n      numChannels: this.state.numChannel,\n      compiling: this.state.compiling, // 是否开启边录音边转化（后期改用web worker）\n    };\n  }\n\n  async loadData() {\n    if (!this.item) {\n      return;\n    }\n\n    this.inFavoriteStatus = await this.inFavorite();\n\n    if (this.item.FileUrl) {\n      this.itemUrl = this.sanitize(this.item.FileUrl);\n      return;\n    }\n\n    const storage = getStorage(\n      firebaseApp,\n      'gs://mandaringathering-d91d4.appspot.com/'\n    );\n\n    const listRef = ref(storage, 'audio_data');\n    const res = await listAll(listRef);\n    res.prefixes.forEach((folderRef) => {\n      console.log('dir: ', folderRef);\n    });\n\n    let item: any = null;\n    res.items.forEach((itemRef) => {\n      // console.log('file: ', itemRef);\n      let name = baseName(itemRef.name);\n      name = toStdNameTag(name);\n\n      if (name == this.itemFileName) {\n        item = itemRef;\n      }\n    });\n\n    if (!item) {\n      return;\n    }\n\n    const url = await getDownloadURL(item);\n    this.itemUrl = url;\n    console.log('url', this.itemUrl);\n  }\n\n  sanitize(url: string) {\n    return this.sanitizer.bypassSecurityTrustUrl(url);\n  }\n\n  manfang() {\n    this.isManfang = !this.isManfang;\n    if (this.isManfang) {\n      this.player.playbackRate = 0.5;\n    } else {\n      this.player.playbackRate = 1;\n    }\n    console.log(111);\n    console.log(this.player.playbackRate);\n  }\n\n  // 录音开启\n  startRecord() {\n    this.clearPlay();\n\n    const config = this.collectData();\n\n    if (!recorder) {\n      recorder = new Recorder(config);\n\n      recorder.onprocess = function (duration) {\n        // this.setState({\n        //     duration: duration.toFixed(5),\n        // });\n        // 推荐使用 onprogress\n      };\n\n      recorder.onprogress = (params: any) => {\n        // console.log(recorder.duration);\n        // console.log(recorder.fileSize);\n\n        this.setState({\n          duration: params.duration.toFixed(5),\n          fileSize: params.fileSize,\n          vol: params.vol.toFixed(2),\n        });\n        // 此处控制数据的收集频率\n        if (config.compiling) {\n          console.log('音频总数据：', params.data);\n        }\n      };\n\n      recorder.onplay = () => {};\n      recorder.onpauseplay = () => {};\n      recorder.onresumeplay = () => {};\n      recorder.onstopplay = () => {};\n      recorder.onplayend = () => {\n        this.stopDrawPlay();\n      };\n\n      config.compiling &&\n        (playTimer = setInterval(() => {\n          if (!recorder) {\n            return;\n          }\n\n          let newData = recorder.getNextData();\n          if (!newData.length) {\n            return;\n          }\n          let byteLength = newData[0].byteLength;\n          let buffer = new ArrayBuffer(newData.length * byteLength);\n          let dataView = new DataView(buffer);\n\n          // 数据合并\n          for (let i = 0, iLen = newData.length; i < iLen; ++i) {\n            for (let j = 0, jLen = newData[i].byteLength; j < jLen; ++j) {\n              dataView.setInt8(i * byteLength + j, newData[i].getInt8(j));\n            }\n          }\n\n          let a = encodeWAV(\n            dataView,\n            config.sampleRate,\n            config.sampleRate,\n            config.numChannels,\n            config.sampleBits\n          );\n          let blob: any = new Blob([a], { type: 'audio/wav' });\n\n          blob.arrayBuffer().then((arraybuffer) => {\n            Player.play(arraybuffer);\n          });\n        }, 3000));\n    } else {\n      recorder.stop();\n    }\n    this.state.isRecording = true;\n    recorder.start().then(\n      () => {\n        console.log('开始录音');\n      },\n      (error) => {\n        console.log(`异常了,${error.name}:${error.message}`);\n      }\n    );\n  }\n\n  // stop\n  pauseRecord() {\n    if (recorder) {\n      recorder.pause();\n      console.log('暂停录音');\n      drawRecordId && cancelAnimationFrame(drawRecordId);\n      drawRecordId = null;\n    }\n  }\n  //stop recording\n  async endRecord() {\n    recorder && recorder.stop();\n    \n    drawRecordId && cancelAnimationFrame(drawRecordId);\n    drawRecordId = null;\n    this.state.isRecording = false;\n    console.log('end recording');\n\n    await this.saveRecord();\n    console.log('保存完成');\n\n    this.clearPlay();\n   \n  }\n\n  playRecord() {\n    recorder && recorder.play();\n    drawRecordId && cancelAnimationFrame(drawRecordId);\n    drawRecordId = null;\n    // recorder && this.drawPlay();\n    // setInterval(() => {\n    //     recorder.getPlayTime()\n    // }, 500)\n  }\n  clearPlay() {\n    if (playTimer) {\n      clearInterval(playTimer);\n      playTimer = null;\n    }\n    if (drawRecordId) {\n      cancelAnimationFrame(drawRecordId);\n      drawRecordId = null;\n    }\n    this.stopDrawPlay();\n  }\n  stopDrawPlay = () => {\n    drawPlayId && cancelAnimationFrame(drawPlayId);\n    drawPlayId = null;\n  };\n  componentDidMount() {\n    oCanvas = document.getElementById('canvas');\n    ctx = oCanvas.getContext('2d');\n    pCanvas = document.getElementById('playChart');\n    pCtx = pCanvas.getContext('2d');\n  }\n\n  async getList() {\n    if (!this.item) {\n      return;\n    }\n\n    this.loadingWin = await this.loadingCtrl.create({\n      message: 'data loading ...',\n      showBackdrop: true,\n      duration: 120000,\n    });\n    this.loadingWin.present();\n\n    const db = getFirestore(firebaseApp);\n    const colRef = collection(db, 'audioList');\n\n    // Create a query against the collection.\n    const wordId = '' + AppConfig.getUid() + '@@' + (this.item.id ?? '-1');\n    console.log('WordId == ', wordId);\n    const q = query(colRef, where('WordId', '==', wordId));\n\n    const querySnapshot = await getDocs(q);\n    const arr = [];\n\n    querySnapshot.forEach((doc) => {\n      console.log(\n        `${doc.id} => `,\n        AppUtil.xstrMid(JSON.stringify(doc.data()), 80, 40)\n      );\n      const ditem = doc.data();\n      if (!ditem.id) {\n        ditem.id = doc.id + 1;\n      }\n      if (ditem.FileUrl) {\n        ditem.FileUrl = this.sanitize(ditem.FileUrl);\n      }\n      arr.unshift(ditem);\n    });\n    this.audioList = arr;\n\n    this.loadingWin.dismiss();\n  }\n\n  saveRecord(): Promise<any> {\n    return new Promise<any>((rel, rej) => {\n      const wavBlob = recorder.getWAVBlob();\n      const a = new FileReader();\n      a.onload = async (e) => {\n        if (e.target.result) {\n          const str = e.target.result.toString();\n          await this.doSaveRecord(str);\n          console.log(str.length, AppUtil.xstrMid(str, 15, 10));\n        }\n        rel(true);\n      };\n      a.readAsDataURL(wavBlob);\n    });\n\n  }\n\n  async doSaveRecord(fileUrl: string) {\n    const loading = await this.loadingCtrl.create();\n\n    const db = getFirestore(firebaseApp);\n    const querySnapshot = await getDocs(collection(db, 'audioList'));\n    let id = 0;\n    let ids = [];\n    let wordIdPrex = AppConfig.getUid() + '@@';\n    querySnapshot.forEach((doc) => {\n      let did = Number(doc.id);\n      let wordId = doc.data()?.WordId ?? '';\n      if (wordId.indexOf(wordIdPrex) === 0) {\n        ids.push(did);\n      }\n      id = Math.max(id, isNaN(did) ? 0 : did);\n    });\n\n    // remove items\n    ids.sort((a, b) => a - b);\n    const remainAmount = 2; // only keep item amount // ids.length - 1;\n    while (ids.length > remainAmount) {\n      const eid = ids.shift();\n      console.log('eid', eid);\n      await deleteDoc(doc(db, 'audioList', '' + eid));\n    }\n\n    id++;\n    console.log(id, id);\n    setDoc(doc(db, 'audioList', '' + id), {\n      id: '' + id,\n      WordId: wordIdPrex + this.item.id,\n      FileUrl: fileUrl,\n    }).then(\n      () => {\n        loading.dismiss();\n        this.getList();\n      },\n      (error) => {\n        loading.dismiss().then(() => {\n          console.error(error);\n        });\n      }\n    );\n\n    await loading.present();\n  }\n\n  ccc() {\n    let a = 0;\n    this.player = document.getElementById('audio_player') as HTMLAudioElement;\n    let b = document.getElementById('bgc');\n    this.isPlay = !this.player.paused;\n    function ab(ev) {\n      this.isPlay = this.player.paused;\n      b.style.width = 0 + 'px';\n      ev.stopPropagation();\n    }\n    function aa(e) {\n      a = (this.player.currentTime / this.player.duration) * 100;\n      b.style.width = a + '%';\n      e.stopPropagation();\n    }\n    this.player.addEventListener('ended', ab.bind(this), false);\n    this.player.addEventListener('timeupdate', aa.bind(this), false);\n\n    if (this.player.paused) {\n      this.player.play();\n    } else {\n      this.player.pause();\n    }\n  }\n  listPlay(id) {\n    let a = 0;\n    let player = document.getElementById(id) as HTMLAudioElement;\n    let prograss = document.getElementById(id + 'pro') as HTMLAudioElement;\n    function ab(ev) {\n      prograss.style.width = 0 + 'px';\n      ev.stopPropagation();\n    }\n    function aa(e) {\n      a = (player.currentTime / player.duration) * 100;\n      prograss.style.width = a + '%';\n      e.stopPropagation();\n    }\n    player.addEventListener('ended', ab.bind(this), false);\n    player.addEventListener('timeupdate', aa.bind(this), false);\n\n    if (player.paused) {\n      player.play();\n    } else {\n      player.pause();\n    }\n  }\n\n  async inFavorite() {\n    if (!this.item) {\n      return false;\n    }\n\n    const uid = '' + AppConfig.getUid();\n    const db = getFirestore(firebaseApp);\n    const dataDoc = await getDoc(doc(db, 'myFavorites', uid));\n\n    let ditem = dataDoc.data();\n    if (!ditem) {\n      ditem = {};\n    }\n    const dataItems = ditem['items'] ? ditem['items'] : {};\n    let arr: any[] = dataItems[this.item.Topic]\n      ? dataItems[this.item.Topic]\n      : [];\n\n    return arr.includes(this.item.id);\n  }\n\n  async onFavoriteAdd(del = false) {\n    if (!this.item) {\n      return;\n    }\n\n    this.loadingWin = await this.loadingCtrl.create({\n      message: 'save data ...',\n      showBackdrop: true,\n      duration: 120000,\n    });\n    this.loadingWin.present();\n\n    const uid = '' + AppConfig.getUid();\n    const db = getFirestore(firebaseApp);\n    const dataDoc = await getDoc(doc(db, 'myFavorites', uid));\n\n    let ditem = dataDoc.data();\n    if (!ditem) {\n      ditem = {};\n    }\n    const dataItems = ditem['items'] ? ditem['items'] : {};\n    let arr: any[] = dataItems[this.item.Topic]\n      ? dataItems[this.item.Topic]\n      : [];\n\n    if (del) {\n      arr = arr.filter((v) => v != this.item.id);\n    } else {\n      if (!arr.includes(this.item.id)) {\n        arr.push(this.item.id);\n      }\n    }\n\n    dataItems[this.item.Topic] = arr;\n    setDoc(doc(db, 'myFavorites', uid), {\n      uid: uid,\n      items: dataItems,\n    });\n\n    this.inFavoriteStatus = !del;\n    this.loadingWin.dismiss();\n  }\n}\n"],"names":[],"sourceRoot":"webpack:///"}