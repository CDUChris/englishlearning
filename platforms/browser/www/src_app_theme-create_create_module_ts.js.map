{"version":3,"file":"src_app_theme-create_create_module_ts.js","mappings":"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","sources":["./src/app/theme-create/create-routing.module.ts","./src/app/theme-create/create.module.ts","./src/app/theme-create/create.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ThemeCreatePage } from './create.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ThemeCreatePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ThemeCreatePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ThemeCreatePageRoutingModule } from './create-routing.module';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { ThemeCreatePage } from './create.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ThemeCreatePageRoutingModule,\n    ReactiveFormsModule,\n  ],\n  declarations: [ThemeCreatePage]\n})\nexport class ThemeCreatePageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport {\n  AlertController,\n  LoadingController,\n  NavController,\n} from '@ionic/angular';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { firebaseApp } from 'src/config/firebase';\nimport {\n  getFirestore,\n  getDocs,\n  collection,\n  setDoc,\n  doc,\n  getDoc,\n  query,\n  where,\n} from '@firebase/firestore';\nimport { PageBase } from '../app.page';\nimport { AppStore } from '../app.store';\nimport { AppConfig } from '../app.config';\n\n//Tab 2 to add new word to database\n@Component({\n  selector: 'app-create',\n  templateUrl: './create.page.html',\n  styleUrls: ['./create.page.scss'],\n})\nexport class ThemeCreatePage extends PageBase implements OnInit {\n  audio: any;\n\n  audioFile: File;\n  public createWordForm: FormGroup;\n  constructor(\n    public loadingCtrl: LoadingController,\n    public alertCtrl: AlertController,\n    formBuilder: FormBuilder,\n    protected appStore: AppStore,\n    protected navCtrl: NavController,\n    public route: ActivatedRoute\n  ) {\n    super(appStore, navCtrl, route);\n\n    this.createWordForm = formBuilder.group({\n      topic: ['', Validators.required],\n      translate: ['', Validators.required],\n    });\n  }\n\n  ngOnInit() {\n  }\n\n  async createTheme() {\n    const loading = await this.loadingCtrl.create();\n    /// {\"Topic\":\"运动会\",\"Translate\":\"sports competition\"}\n\n    const topic = this.createWordForm.value.topic;\n    const translate = this.createWordForm.value.translate;\n\n    const db = getFirestore(firebaseApp);\n    const querySnapshot = await getDocs(collection(db, 'DropDownList'));\n    let id = 0;\n    querySnapshot.forEach((doc) => {\n      let did = Number(doc.id);\n      id = Math.max(id, isNaN(did) ? 0 : did);\n    });\n\n    id++;\n    console.log(id, id);\n    setDoc(doc(db, 'DropDownList', '' + id), {\n      id: '' + id,\n      uid: this.$sess.uid,\n      Topic: topic,\n      Translate: translate,\n    }).then(\n      () => {\n        loading.dismiss().then(() => {\n          this.navCtrl.pop();\n        });\n      },\n      (error) => {\n        loading.dismiss().then(() => {\n          console.error(error);\n        });\n      }\n    );\n\n    return await loading.present();\n  }\n}\n"],"names":[],"sourceRoot":"webpack:///"}